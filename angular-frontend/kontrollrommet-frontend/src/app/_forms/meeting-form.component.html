<div class="container">
	<h1>Ny Møteinnkalling</h1>
	
	<form (ngSubmit)="onSubmit()" #meetingForm="ngForm">
		<div class="form-group">
			<label for="entity">Velg Boligselskap</label>
			<select class="form-control" name="entity" required [(ngModel)]="model.entity" (change)="onEntityChange()">
				<option *ngFor="let entity of entities" [value]="entity.entity_id">{{entity.entity_name}}</option>
			</select>
			TODO: remove this: {{model.entity}}
		</div>
			
		<div class="form-group">
			<label for="meetingcategory">Møtekategori</label>
			<select class="form-control" name="category" required [(ngModel)]="model.meeting_category">
				<option *ngFor="let category of categories" [value]="category.id">{{category.name}}</option>
			</select>
		</div>

		<div class="form-group">
			<label for="date">Foreslått Møtedato</label>
			<input type="date" class="form-control" name="date" id="date" required [(ngModel)]="model.requested_meetdate" >
		</div>

		<div class="form-group">
			<label for="participants">Møtedeltakere</label>
			<select multiple class="form-control" id="participants" name="participants" required [(ngModel)]="model.participants">
				<option *ngFor="let participant of participants" [value]="participant.person_id">{{participant.person_firstname}} {{participant.person_lastname}} ({{participant.function}})</option>
			</select>
		</div>
 
		<div class="form-group">
			<label for="meetingsubjects">Agenda</label>
			<select multiple class="form-control" id="meetingsubjects" name="meetingsubjects" required [(ngModel)]="model.meeting_subjects">
				<option *ngFor="let meetingsubject of meetingsubjects" [value]="meetingsubject.subject_id">{{meetingsubject.headline}}</option>
			</select>
		</div>
 
		<button type="submit" class="btn btn-success" [disabled]="!meetingForm.form.valid">Submit</button>
	 
		</form>
</div>